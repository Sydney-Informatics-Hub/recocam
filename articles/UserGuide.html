<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wrangling camera trap images with recocam • recocam</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Wrangling camera trap images with recocam">
<meta property="og:description" content="recocam">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">recocam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/UserGuide.html">Wrangling camera trap images with recocam</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="UserGuide_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="UserGuide_files/jquery-1.12.4/jquery.min.js"></script><link href="UserGuide_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="UserGuide_files/leaflet-1.3.1/leaflet.js"></script><link href="UserGuide_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="UserGuide_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="UserGuide_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="UserGuide_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="UserGuide_files/leaflet-binding-2.0.3/leaflet.js"></script><script src="UserGuide_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="UserGuide_files/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script><link href="UserGuide_files/leaflet-minimap-3.3.1/Control.MiniMap.min.css" rel="stylesheet">
<script src="UserGuide_files/leaflet-minimap-3.3.1/Control.MiniMap.min.js"></script><script src="UserGuide_files/leaflet-minimap-3.3.1/Minimap-binding.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Wrangling camera trap images with recocam</h1>
                        <h4 class="author">Henry Lydecker</h4>
            
            <h4 class="date">2020-05-04</h4>
      
      
      <div class="hidden name"><code>UserGuide.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p><strong>recocam</strong> provides robust tools for extracting and processing information and annotations that have been stored in image EXIF data. This package was built to support ecologists who have to deal with large numbers of images from camera traps and to prepare them for analysis with the <strong>camtrapr</strong> package, but it can work with all sorts of images as long as they contain annotation that have been stored in the keywords EXIF attribute field. This package was developed by the Sydney Informatics Hub, a Core Research Facility of the University of Sydney.</p>
<p>This package is designed to be computationally efficient and can process multiple subfolders full of images, but be aware that processing time goes up as more images are included. Current processing speed for the main importing function gather_images() is around 100 images a second.</p>
<p>This package allows users to generate a data frame of information contained in image EXIF data, and can adapt to different tagging schemes as long as they follow a structure (see below). The other functions in the package are designed to enable users to use their image data with <strong>camtrapr</strong>’s data exploration tools.</p>
</div>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>Before you can install and use <strong>exifpro2xamtrapr</strong>, you must install one program (<strong>ExifTool</strong>, a free and open source program for extracting image metadata) and a few R packages (notably <strong>exifr</strong> to enable efficient use of <strong>ExifTool</strong>, with <strong>reshape2</strong> and <strong>Tidyverse</strong> providing some important code functionality).</p>
<div id="exiftool" class="section level3">
<h3 class="hasAnchor">
<a href="#exiftool" class="anchor"></a>ExifTool</h3>
<p>The method for installing <strong>ExifTool</strong> on your computer varies depending on if you are using MacOS/Linux/Unix or Windows. You can find out more about <strong>ExifTool</strong> and download the software <a href="https://exiftool.org/">here</a>.</p>
<p>On MacOS/Linux/Unix, simply follow the steps provided on <strong>ExifTool</strong>’s website. For Windows, you will have take a couple extra steps to ensure that R is able to utilize <strong>ExifTool</strong>. Once you have downloaded the stand-alone executable, unzip the file and rename the .exe file to “exiftool.exe”. Then place this file in your primary windows directory (C:/Windows in most cases). Once you have done this, R should be able to find <strong>ExifTool</strong>.</p>
<p>To make sure that you have correctly installed <strong>ExifTool</strong>:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="co">#Check if your system is able to find ExifTool</span>
<span class="fu"><a href="https://rdrr.io/r/base/Sys.which.html">Sys.which</a></span>(<span class="st">"exiftool"</span>)</pre></body></html></div>
<pre><code>## exiftool 
##       ""</code></pre>
<div class="sourceCode" id="cb3"><html><body><pre class="r">#This is what you would see on MacOS. On Windows, you should see "C:\\WINDOWS\\exiftool.exe"</pre></body></html></div>
</div>
<div id="recocam" class="section level3">
<h3 class="hasAnchor">
<a href="#recocam" class="anchor"></a>recocam</h3>
<p>To install <strong>recocam</strong>, you can download it from the Sydney Informatics Hub’s github.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="co">#something like this, placeholder now</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">devtools</span>)
<span class="fu">install_github</span>(<span class="st">"https://github.com/Sydney-Informatics-Hub/recocam"</span>)</pre></body></html></div>
<p>If you have any questions about this package, run into any issues, or simply want to see what is going on with development of <strong>recocam</strong>, check out the repository’s issues page <a href="https://github.com/Sydney-Informatics-Hub/recocam/issues">here</a>.</p>
</div>
<div id="citing-recocam" class="section level2">
<h2 class="hasAnchor">
<a href="#citing-recocam" class="anchor"></a>Citing recocam</h2>
<p>If you use recocam for a publication, presentation, or any form professional application, please cite <strong>recocam</strong> as well as the Sydney Informatics Hub, a Core Research Facility of the University of Sydney.</p>
<hr>
</div>
</div>
<div id="using-recocam" class="section level1">
<h1 class="hasAnchor">
<a href="#using-recocam" class="anchor"></a>Using recocam</h1>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">recocam</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidyverse</span>) <span class="co"># this should automatically load, but just in case it doesn't here is the command</span></pre></body></html></div>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✔ ggplot2 3.3.0     ✔ purrr   0.3.4
## ✔ tibble  3.0.1     ✔ dplyr   0.8.5
## ✔ tidyr   1.0.2     ✔ stringr 1.4.0
## ✔ readr   1.3.1     ✔ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<div id="workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#workflow" class="anchor"></a>Workflow</h2>
<p>The workflow for <strong>recocam</strong> has three main steps. Each of these steps involves its own unique functions that together greatly simplify the process of dealing with camera trap images.</p>
<ul>
<li>Extracting and transforming raw data
<ul>
<li>Reading information from image exif data</li>
<li>Mapping image exif data to your tagging scheme</li>
</ul>
</li>
<li>Transforming your data into a form that can be used with <strong>camtrapr</strong>
</li>
<li>Creating a <strong>recordsTable</strong> with rows for each observation</li>
<li>Creating a <strong>ctTable</strong> with information about camera trap efforts</li>
</ul>
</div>
<div id="data-preperation" class="section level2">
<h2 class="hasAnchor">
<a href="#data-preperation" class="anchor"></a>Data preperation</h2>
<p>This package assumes that you have a set of camera trap photos that have been tagged with information about the camera, trip, species sighted, etc. This sort of tagging is usually done manually either through a program like ExifPro or some other way of adding information to image files.</p>
<p>Before you start, you will want to have three things prepared in advance. First, is the path to the images that you want to analyse. You can find this by right/command clicking on the folder and clicking “properties” or “get info” respectively if you are using Windows or MacOS.</p>
<p>Second, you will need to provide a csv file with information that will be used to label the tags within the keywords exif attribute of your images. Your csv file must have two columns: the first containing the number of each tag (the “Index”), and the second with a label for what each tag is representing (the “ExifAttribute”). Here is an example, from the tagging scheme used by the Desert Ecology Research Group at the University of Sydney:</p>
<pre><code>## # A tibble: 6 x 2
##   Index ExifAttribute   
##   &lt;dbl&gt; &lt;chr&gt;           
## 1     1 Trip            
## 2     2 Site            
## 3     3 Treatment       
## 4     4 Camera no.      
## 5     5 Species 1       
## 6     6 no. of species 1</code></pre>
<p>Finally, you will need to provide a csv file containing information about your camera trap locations. In this example (also from DERG), there are geographic (latitude and longitude) coordinates for each camera location. For the purposes of this vignette, we have replaced the actual coordinates with some random points chosen near Concordia Station in Antarctica to protect the locations of any endangered and protected species.</p>
<pre><code>## # A tibble: 6 x 6
##   SiteCode   lat  long Site              Camera_Tra Notes         
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;             &lt;chr&gt;      &lt;chr&gt;         
## 1 CamMC3   -68.6  135. Main Camp North   Camera R10 Reconynx PC800
## 2 CamMC4   -68    134. Main Camp North   Camera R27 Reconynx PC800
## 3 CamMC2   -68.2  133. Main Camp South   Camera R12 Reconynx PC800
## 4 CamMC1   -68.0  136. Main Camp South   Camera R03 Reconynx PC800
## 5 CamFRS1  -68.6  135. Field River South Camera R16 Reconynx PC800
## 6 CamFRS2  -68.2  135. Field River South Camera R19 Reconynx PC800</code></pre>
</div>
<div id="importing-data-with-gather_images" class="section level2">
<h2 class="hasAnchor">
<a href="#importing-data-with-gather_images" class="anchor"></a>Importing data with <em>gather_images</em>
</h2>
<p>The <em>gather_images</em> function extracts information contained in the EXIF data of your images and transforms that information into something much more easily usable for further analysis, using your keywords spreadsheet to help correctly interpret the information in the exif attributes of each image.</p>
<p>That also means that this function is the most computationally complex in this package. For example, it takes approximately one minute to process 10,000 images that are stored on a solid state hard drive; it takes far longer to process images that are stored on a remote server. We recommend that you transfer images onto your hard drive when using this function.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">image_folder</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"extdata/testimages"</span>, <span class="kw">package</span><span class="kw">=</span><span class="st">"recocam"</span>)
<span class="no">keywords</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"testdata/keywords.csv"</span>, <span class="kw">package</span><span class="kw">=</span><span class="st">"recocam"</span>)

<span class="no">test_raw</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/gather_images.html">gather_images</a></span>(<span class="no">image_folder</span>, <span class="no">keywords</span>)

<span class="fu">glimpse</span>(<span class="no">test_raw</span>)</pre></body></html></div>
<pre><code>## Rows: 30
## Columns: 16
## $ trip               &lt;chr&gt; "Apr.14", "Apr.14", "Apr.14", "Apr.14", "Apr.14", …
## $ site               &lt;chr&gt; "Norries Bore", "Norries Bore", "Norries Bore", "N…
## $ treatment          &lt;chr&gt; "Fox and goanna removal", "Fox and goanna removal"…
## $ camera_no          &lt;chr&gt; "R17", "R17", "R17", "R17", "R17", "R17", "R17", "…
## $ species_1          &lt;chr&gt; "cat", NA, NA, NA, NA, NA, NA, NA, NA, "cat", NA, …
## $ no_of_species_1    &lt;chr&gt; "1", NA, NA, NA, NA, NA, NA, NA, NA, "1", NA, NA, …
## $ species_2          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ no_of_species_2    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ comments           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "first photo taken…
## $ moon_phase_number  &lt;chr&gt; "2", NA, NA, NA, NA, NA, NA, NA, NA, "2", NA, NA, …
## $ site_code          &lt;chr&gt; "CamNB2", "CamNB2", "CamNB2", "CamNB2", "CamNB2", …
## $ source_file        &lt;chr&gt; "/Users/runner/runners/2.169.1/work/_temp/Library/…
## $ file_name          &lt;chr&gt; "NBR172014-04_0013.jpg", "NBR172014-04_0007.jpg", …
## $ date_time_original &lt;chr&gt; "2013:10:09 17:55:13", "2013:10:01 22:00:54", "201…
## $ file_size          &lt;chr&gt; "533135", "277693", "474973", "351488", "461175", …
## $ process_image      &lt;chr&gt; "TRUE", "TRUE", "TRUE", "TRUE", "TRUE", "TRUE", "T…</code></pre>
<p>You can now see that there is a large tibble containing all of the information that was extracted from your images.</p>
<p>If you want to analyse your data with <strong>camtrapr</strong>, you next will need to use the prep_camtrapr() function to process perform some transformations on the data. This function makes one big assumption: that you have tagged your images following this scheme: individual species in images identified by “species_1”, “species_2”, etc. and counts of each species identified by “no_of_species_1” etc. This function will work with any number of possible species in an image, but by default it will look for two species.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="no">season1_raw</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"extdata/vignette_raw1.Rds"</span>, <span class="kw">package</span><span class="kw">=</span><span class="st">"recocam"</span>))

<span class="no">season1_clean</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/prep_camtrapr.html">prep_camtrapr</a></span>(<span class="no">season1_raw</span>, <span class="kw">number_of_species</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
</div>
<div id="creating-a-recordstable" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-recordstable" class="anchor"></a>Creating a recordsTable</h2>
<p>The first data frame that we want to create is what <strong>camtrapR</strong> calls a “recordsTable”. This function is adapted from their package, and will create a recordsTable based on the data we just extracted from your images.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">season1_records</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/make_recordtable.html">make_recordtable</a></span>(<span class="no">season1_clean</span>)</pre></body></html></div>
</div>
<div id="creating-a-cttable" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-cttable" class="anchor"></a>Creating a ctTable</h2>
<p>Finally, you can use a file containing informations about your camera trap locations to create a data frame with information about camera efforts, also known as a “ctTable”, for analysis in <strong>camtrapR</strong>. Note that you need to specify the “trip”: this is the particular trapping season or period you are analysing and it should be written as a three letter month and abbreviated year seperated with a period. For example: if you are analyzing images from June 2010, you would abbreviate this as “Jun.10”.</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="no">camsites</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"extdata/CamSitesDemo.csv"</span>, <span class="kw">package</span><span class="kw">=</span><span class="st">"recocam"</span>)

<span class="no">season1_efforts</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/make_effortstable.html">make_effortstable</a></span>(<span class="no">season1_clean</span>, <span class="no">camsites</span>, <span class="kw">trip</span> <span class="kw">=</span> <span class="st">"Jun.10"</span>)</pre></body></html></div>
</div>
<div id="working-with-multiple-data-sets" class="section level2">
<h2 class="hasAnchor">
<a href="#working-with-multiple-data-sets" class="anchor"></a>Working with multiple data sets</h2>
<p>If you’d like to combine information from multiple seasons together, you can merge these tables in several different ways using functions from the <strong>dplyr</strong> package.</p>
<p>First, lets load in some files from another fieldwork season.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="no">season2_clean</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"/extdata/vignette_clean2.Rds"</span>, <span class="kw">package</span><span class="kw">=</span> <span class="st">"recocam"</span>))
<span class="no">season2_records</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"/extdata/vignette_records2.Rds"</span>, <span class="kw">package</span><span class="kw">=</span> <span class="st">"recocam"</span>))
<span class="no">season2_efforts</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"/extdata/vignette_efforts2.Rds"</span>, <span class="kw">package</span><span class="kw">=</span> <span class="st">"recocam"</span>))</pre></body></html></div>
<p>Next, we will simply join these files with the ones from the season that we just processed.</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="no">merged_images_clean</span> <span class="kw">&lt;-</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(<span class="no">season1_clean</span>, <span class="no">season2_clean</span>)
<span class="no">merged_records</span> <span class="kw">&lt;-</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(<span class="no">season1_records</span>, <span class="no">season2_records</span>)
<span class="no">merged_efforts</span> <span class="kw">&lt;-</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(<span class="no">season1_efforts</span>, <span class="no">season2_efforts</span>)</pre></body></html></div>
<p>You can now perform operations on these as normal.</p>
<hr>
</div>
</div>
<div id="example-analysis-with-camtrapr" class="section level1">
<h1 class="hasAnchor">
<a href="#example-analysis-with-camtrapr" class="anchor"></a>Example analysis with camtrapR</h1>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">camtrapR</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">rgdal</span>)</pre></body></html></div>
<p>You can now take the two output data frames and use them for a wide variety of analyses with <strong>camtrapR</strong>. Here are examples, based on <strong>camtrapR</strong>’s <a href="https://cran.r-project.org/web/packages/camtrapR/vignettes/DataExploration.html">data exploration vignette</a>.</p>
<div id="activity-density-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#activity-density-analysis" class="anchor"></a>Activity density analysis</h2>
<p>Activity density plots can be easily generated using camtrapR. One important thing to note is that there are many different arguments for the “activityDensity” function, and it is very important to make sure that you specify the names of the particular columns that your data is coming from.</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/pkg/camtrapR/man/activityDensity.html">activityDensity</a></span>(<span class="kw">recordTable</span> <span class="kw">=</span> <span class="no">season1_records</span>,
                <span class="kw">allSpecies</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
                <span class="kw">speciesCol</span> <span class="kw">=</span> <span class="st">"species"</span>,
                <span class="kw">recordDateTimeCol</span> <span class="kw">=</span> <span class="st">"date_time_original"</span>
                )</pre></body></html></div>
<p>One particularly useful feature of <strong>camtrapR</strong> is the ability to plot the activity of two different species at the same time. For example, here the activity of two potentially competing predators is plotted. These observations can provide very useful insights about how different species may or may not be interacting, or utilizing different times of the day.</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/pkg/camtrapR/man/activityOverlap.html">activityOverlap</a></span>(<span class="kw">recordTable</span> <span class="kw">=</span> <span class="no">season1_records</span>,
                <span class="kw">speciesA</span> <span class="kw">=</span> <span class="st">"cat"</span>,
                <span class="kw">speciesB</span> <span class="kw">=</span> <span class="st">"dingo"</span>,
                <span class="kw">speciesCol</span> <span class="kw">=</span> <span class="st">"species"</span>,
                <span class="kw">recordDateTimeCol</span> <span class="kw">=</span> <span class="st">"date_time_original"</span>,
                <span class="kw">writePNG</span>    <span class="kw">=</span> <span class="fl">FALSE</span>,
                <span class="kw">plotR</span>       <span class="kw">=</span> <span class="fl">TRUE</span>,
                <span class="kw">createDir</span>   <span class="kw">=</span> <span class="fl">FALSE</span>,
                <span class="kw">pngMaxPix</span>   <span class="kw">=</span> <span class="fl">1000</span>,
                <span class="kw">linecol</span>     <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"black"</span>, <span class="st">"blue"</span>),
                <span class="kw">linewidth</span>   <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">5</span>,<span class="fl">3</span>),
                <span class="kw">linetype</span>    <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">2</span>),
                <span class="kw">olapcol</span>     <span class="kw">=</span> <span class="st">"darkgrey"</span>,
                <span class="kw">add.rug</span>     <span class="kw">=</span> <span class="fl">TRUE</span>,
                <span class="kw">extend</span>      <span class="kw">=</span> <span class="st">"lightgrey"</span>,
                <span class="kw">ylim</span>        <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="fl">0.25</span>),
                <span class="kw">main</span>        <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"Activity overlap: cats vs dingos"</span>)
)</pre></body></html></div>
<p><img src="UserGuide_files/figure-html/camtrapR%20activity%20overlap-1.png" width="700"></p>
</div>
<div id="spatial-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#spatial-analysis" class="anchor"></a>Spatial Analysis</h2>
<div id="richness-and-abundance" class="section level3">
<h3 class="hasAnchor">
<a href="#richness-and-abundance" class="anchor"></a>Richness and Abundance</h3>
<p>You can easily plot species richness observed at each of your cameras.</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="no">maptest1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/camtrapR/man/detectionMaps.html">detectionMaps</a></span>(<span class="kw">CTtable</span> <span class="kw">=</span> <span class="no">season1_efforts</span>,
                          <span class="kw">recordTable</span> <span class="kw">=</span> <span class="no">season1_records</span>,
                          <span class="kw">Xcol</span> <span class="kw">=</span> <span class="st">"long"</span>,
                          <span class="kw">Ycol</span> <span class="kw">=</span> <span class="st">"lat"</span>,
                          <span class="kw">stationCol</span> <span class="kw">=</span> <span class="st">"site"</span>,
                          <span class="kw">speciesCol</span> <span class="kw">=</span> <span class="st">"species"</span>,
                          <span class="kw">printLabels</span>  <span class="kw">=</span> <span class="fl">TRUE</span>,
                          <span class="kw">richnessPlot</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
                          <span class="kw">speciesPlots</span> <span class="kw">=</span> <span class="fl">FALSE</span>,
                          <span class="kw">addLegend</span>    <span class="kw">=</span> <span class="fl">TRUE</span>
)</pre></body></html></div>
<p><img src="UserGuide_files/figure-html/camtrapR%20spatial%20analysis%20species%20richness-1.png" width="700"></p>
<p>Or you can plot abundance of individual species.</p>
<div class="sourceCode" id="cb22"><html><body><pre class="r"><span class="no">season1_cats</span> <span class="kw">&lt;-</span> <span class="no">season1_records</span>[<span class="no">season1_records</span>$<span class="no">species</span> <span class="kw">==</span> <span class="st">"cat"</span>,]

<span class="no">season1_catmap</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/camtrapR/man/detectionMaps.html">detectionMaps</a></span>(<span class="kw">CTtable</span>      <span class="kw">=</span> <span class="no">season1_efforts</span>,
                           <span class="kw">recordTable</span>   <span class="kw">=</span> <span class="no">season1_cats</span>,
                           <span class="kw">Xcol</span> <span class="kw">=</span> <span class="st">"long"</span>,
                           <span class="kw">Ycol</span> <span class="kw">=</span> <span class="st">"lat"</span>,
                           <span class="kw">stationCol</span> <span class="kw">=</span> <span class="st">"site"</span>,
                           <span class="kw">speciesCol</span> <span class="kw">=</span> <span class="st">"species"</span>,
                           <span class="kw">printLabels</span>  <span class="kw">=</span> <span class="fl">TRUE</span>,
                           <span class="kw">richnessPlot</span> <span class="kw">=</span> <span class="fl">FALSE</span>,
                           <span class="kw">speciesPlots</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
                           <span class="kw">addLegend</span>    <span class="kw">=</span> <span class="fl">TRUE</span>
)</pre></body></html></div>
<p><img src="UserGuide_files/figure-html/camtrapR%20spatial%20analysis%20cat%20abundance-1.png" width="700"></p>
<p>You can then make observations about the differing distributions and ranges of different species in your study area.</p>
<p><img src="UserGuide_files/figure-html/camtrapR%20spatial%20analysis%20fox%20abundance-1.png" width="700"></p>
</div>
<div id="shapefiles" class="section level3">
<h3 class="hasAnchor">
<a href="#shapefiles" class="anchor"></a>Shapefiles</h3>
<p>You can also export shapefiles of your data. Shapefiles can be used to perform powerful spatial analysis or create easily understandably and engaging maps.</p>
<div class="sourceCode" id="cb23"><html><body><pre class="r"><span class="no">shapefileName</span> <span class="kw">&lt;-</span> <span class="st">"VignetteShp"</span>
<span class="no">shapefileProjection</span> <span class="kw">&lt;-</span> <span class="st">"+init=epsg:4326"</span>

<span class="no">Mapstest3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/camtrapR/man/detectionMaps.html">detectionMaps</a></span>(<span class="kw">CTtable</span> <span class="kw">=</span> <span class="no">season1_efforts</span>,
                           <span class="kw">recordTable</span> <span class="kw">=</span> <span class="no">season1_records</span>,
                           <span class="kw">Xcol</span> <span class="kw">=</span> <span class="st">"long"</span>,
                           <span class="kw">Ycol</span> <span class="kw">=</span> <span class="st">"lat"</span>,
                           <span class="kw">stationCol</span> <span class="kw">=</span> <span class="st">"site"</span>,
                           <span class="kw">speciesCol</span> <span class="kw">=</span> <span class="st">"species"</span>,
                           <span class="kw">richnessPlot</span>        <span class="kw">=</span> <span class="fl">FALSE</span>,         <span class="co"># no richness plot</span>
                           <span class="kw">speciesPlots</span>        <span class="kw">=</span> <span class="fl">FALSE</span>,         <span class="co"># no species plots</span>
                           <span class="kw">writeShapefile</span>      <span class="kw">=</span> <span class="fl">TRUE</span>,          <span class="co"># but shaepfile creation</span>
                           <span class="kw">shapefileName</span>       <span class="kw">=</span> <span class="no">shapefileName</span>,
                           <span class="kw">shapefileDirectory</span>  <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>(),
                           <span class="kw">shapefileProjection</span> <span class="kw">=</span> <span class="no">shapefileProjection</span>
)</pre></body></html></div>
<p>Lets check if that shapefile works! Alternatively, you can also open this shapefile in your preferred GIS programme.</p>
<div class="sourceCode" id="cb24"><html><body><pre class="r"><span class="no">season1_shapefile</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rgdal/man/readOGR.html">readOGR</a></span>(<span class="kw">dsn</span>   <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>(),
                         <span class="kw">layer</span> <span class="kw">=</span> <span class="st">"VignetteShp"</span>)

<span class="no">season1_shapefile</span>@<span class="kw">data</span>

<span class="no">detections_spdf</span> <span class="kw">&lt;-</span> <span class="fu">SpatialPointsDataFrame</span>(<span class="kw">coords</span>      <span class="kw">=</span> <span class="no">Mapstest3</span>[,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"lat"</span>, <span class="st">"long"</span>)],
                                          <span class="kw">data</span>        <span class="kw">=</span> <span class="no">Mapstest3</span>,
                                          <span class="kw">proj4string</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/pkg/rgdal/man/CRS-class.html">CRS</a></span>(<span class="no">shapefileProjection</span>))

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">detections_spdf</span>)</pre></body></html></div>
</div>
</div>
<div id="example-with-leaflet" class="section level2">
<h2 class="hasAnchor">
<a href="#example-with-leaflet" class="anchor"></a>Example with leaflet</h2>
<p>While <strong>camtrapR</strong> contains some useful tools for plotting maps, you can now take this data and plot maps using popular packages such as <strong>ggplot2</strong> and <strong>leaflet</strong>. Both of these provide very powerful options for visualizing your data and creating publication ready graphics.</p>
<p>In this quick example, I’ll show you how you can use <strong>leaflet</strong> to visualize the shapefile exported by <strong>camtrapR</strong>.</p>
<p>First, we will load in the required packages and bring the shapefile back in to R.</p>
<div class="sourceCode" id="cb25"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">sf</span>)</pre></body></html></div>
<pre><code>## Linking to GEOS 3.7.2, GDAL 2.4.2, PROJ 5.2.0</code></pre>
<div class="sourceCode" id="cb27"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">sp</span>)
<span class="no">season1_shapefile</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"/extdata/VignetteShp.shp"</span>, <span class="kw">package</span> <span class="kw">=</span> <span class="st">"recocam"</span>)

<span class="no">cam_shp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rgdal/man/readOGR.html">readOGR</a></span>(<span class="no">season1_shapefile</span>)</pre></body></html></div>
<pre><code>## OGR data source with driver: ESRI Shapefile 
## Source: "/Users/runner/runners/2.169.1/work/_temp/Library/recocam/extdata/VignetteShp.shp", layer: "VignetteShp"
## with 9 features
## It has 38 fields</code></pre>
<div class="sourceCode" id="cb29"><html><body><pre class="r"><span class="no">cam_shp</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/sp/man/spTransform.html">spTransform</a></span>(<span class="no">cam_shp</span>, <span class="fu"><a href="https://rdrr.io/pkg/sp/man/CRS-class.html">CRS</a></span>(<span class="st">"+init=epsg:4326"</span>))</pre></body></html></div>
<p>Next, lets plot it with <strong>leaflet</strong>.</p>
<div class="sourceCode" id="cb30"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">leaflet</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">leaflet.extras</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">leaflet.providers</span>)
<span class="co"># define a palette based on our shapefile</span>
<span class="no">pal</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/colorNumeric.html">colorNumeric</a></span>(
  <span class="kw">palette</span> <span class="kw">=</span> <span class="st">"Spectral"</span>,
  <span class="kw">domain</span> <span class="kw">=</span> <span class="no">cam_shp</span>$<span class="no">n_specs</span>
)

<span class="no">cam_shp</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addProviderTiles.html">addProviderTiles</a></span>(<span class="no">providers</span>$<span class="no">Stamen.Terrain</span>,
                   <span class="kw">options</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addProviderTiles.html">providerTileOptions</a></span>(<span class="kw">noWrap</span> <span class="kw">=</span> <span class="fl">TRUE</span>),
                   <span class="kw">group</span> <span class="kw">=</span> <span class="st">"Map"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addProviderTiles.html">addProviderTiles</a></span>(<span class="no">providers</span>$<span class="no">Esri.WorldImagery</span>,
                   <span class="kw">options</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addProviderTiles.html">providerTileOptions</a></span>(<span class="kw">noWrap</span> <span class="kw">=</span> <span class="fl">TRUE</span>),
                   <span class="kw">group</span> <span class="kw">=</span> <span class="st">"Satellite"</span>)  <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addCircleMarkers</a></span>(<span class="kw">stroke</span> <span class="kw">=</span> <span class="fl">FALSE</span>,
                   <span class="kw">fillOpacity</span> <span class="kw">=</span> <span class="fl">1</span>,
                   <span class="kw">radius</span> <span class="kw">=</span> ~<span class="no">n_specs</span>,
                   <span class="kw">color</span><span class="kw">=</span> ~<span class="fu">pal</span>(<span class="no">cam_shp</span>$<span class="no">n_specs</span>),
                   <span class="kw">label</span> <span class="kw">=</span> ~<span class="no">site</span>
                   ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addLayersControl.html">addLayersControl</a></span>(<span class="kw">baseGroups</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Map"</span>, <span class="st">"Satellite"</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addLegend.html">addLegend</a></span>(<span class="kw">position</span> <span class="kw">=</span> <span class="st">"topright"</span>,
            <span class="kw">pal</span> <span class="kw">=</span> <span class="no">pal</span>,
            <span class="kw">values</span> <span class="kw">=</span> <span class="no">cam_shp</span>$<span class="no">n_specs</span>,
            <span class="kw">title</span> <span class="kw">=</span> <span class="st">"Species Richness"</span>,
            <span class="kw">opacity</span> <span class="kw">=</span> <span class="fl">1</span>,
            <span class="kw">group</span> <span class="kw">=</span> <span class="st">"Richness"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addScaleBar.html">addScaleBar</a></span>(<span class="kw">position</span><span class="kw">=</span><span class="st">"bottomleft"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addMiniMap.html">addMiniMap</a></span>()</pre></body></html></div>
<div id="htmlwidget-7da4b6eaf6c61b090c7e" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-7da4b6eaf6c61b090c7e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Stamen.Terrain",null,"Map",{"errorTileUrl":"","noWrap":true,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",null,"Satellite",{"errorTileUrl":"","noWrap":true,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[-68.457457,-68.00043618,-68.399552625,-68.46058785,-68.3235,-68.123325,-68.1212173,-68.172672115,-68.124235],[145,135.55,135.12315,142,134.66575,134.5575,144,135,138],[12,11,7,12,11,4,17,14,7],null,null,{"interactive":true,"className":"","stroke":false,"color":["#DDF19A","#F5FBB0","#F7824C","#DDF19A","#F5FBB0","#9E0142","#5E4FA2","#7DCAA5","#F7824C"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#DDF19A","#F5FBB0","#F7824C","#DDF19A","#F5FBB0","#9E0142","#5E4FA2","#7DCAA5","#F7824C"],"fillOpacity":1},null,null,null,null,["Carlo","Field River North","Field River South","Kunnamuka Swamp East","Main Camp North","Main Camp South","No. 3 Bore","Norries Bore","South Site"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLayersControl","args":[["Map","Satellite"],[],{"collapsed":true,"autoZIndex":true,"position":"topright"}]},{"method":"addLegend","args":[{"colors":["#9E0142 , #9E0142 0%, #E65849 15.3846153846154%, #FDB264 30.7692307692308%, #FFF3AB 46.1538461538462%, #DDF19A 61.5384615384615%, #7DCAA5 76.9230769230769%, #437BB7 92.3076923076923%, #5E4FA2 "],"labels":["4","6","8","10","12","14","16"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"numeric","title":"Species Richness","extra":{"p_1":0,"p_n":0.923076923076923},"layerId":null,"className":"info legend","group":"Richness"}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addMiniMap","args":[null,null,"bottomright",150,150,19,19,-5,false,false,false,false,false,false,{"color":"#ff7800","weight":1,"clickable":false},{"color":"#000000","weight":1,"clickable":false,"opacity":0,"fillOpacity":0},{"hideText":"Hide MiniMap","showText":"Show MiniMap"},[]]}],"limits":{"lat":[-68.46058785,-68.00043618],"lng":[134.5575,145]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="bonus-tips-and-tricks" class="section level1">
<h1 class="hasAnchor">
<a href="#bonus-tips-and-tricks" class="anchor"></a>Bonus Tips and Tricks</h1>
<div id="removing-columns-from-data" class="section level2">
<h2 class="hasAnchor">
<a href="#removing-columns-from-data" class="anchor"></a>Removing columns from data</h2>
<p>What if you decide to merge two data frames of data extracted from images using gather_images(), and R gives you an error message telling you that it cannot merge these two data frames because there are different numbers of columns? Don’t panic! This situation could be caused by a couple different things, and it is pretty easy to work around it.</p>
<div class="sourceCode" id="cb31"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">test_raw</span>)</pre></body></html></div>
<pre><code>## # A tibble: 6 x 16
##   trip  site  treatment camera_no species_1 no_of_species_1 species_2
##   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;           &lt;chr&gt;    
## 1 Apr.… Norr… Fox and … R17       cat       1               &lt;NA&gt;     
## 2 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
## 3 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
## 4 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
## 5 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
## 6 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
## # … with 9 more variables: no_of_species_2 &lt;chr&gt;, comments &lt;chr&gt;,
## #   moon_phase_number &lt;chr&gt;, site_code &lt;chr&gt;, source_file &lt;chr&gt;,
## #   file_name &lt;chr&gt;, date_time_original &lt;chr&gt;, file_size &lt;chr&gt;,
## #   process_image &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb33"><html><body><pre class="r"><span class="fu">glimpse</span>(<span class="no">test_raw</span>)</pre></body></html></div>
<pre><code>## Rows: 30
## Columns: 16
## $ trip               &lt;chr&gt; "Apr.14", "Apr.14", "Apr.14", "Apr.14", "Apr.14", …
## $ site               &lt;chr&gt; "Norries Bore", "Norries Bore", "Norries Bore", "N…
## $ treatment          &lt;chr&gt; "Fox and goanna removal", "Fox and goanna removal"…
## $ camera_no          &lt;chr&gt; "R17", "R17", "R17", "R17", "R17", "R17", "R17", "…
## $ species_1          &lt;chr&gt; "cat", NA, NA, NA, NA, NA, NA, NA, NA, "cat", NA, …
## $ no_of_species_1    &lt;chr&gt; "1", NA, NA, NA, NA, NA, NA, NA, NA, "1", NA, NA, …
## $ species_2          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ no_of_species_2    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ comments           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "first photo taken…
## $ moon_phase_number  &lt;chr&gt; "2", NA, NA, NA, NA, NA, NA, NA, NA, "2", NA, NA, …
## $ site_code          &lt;chr&gt; "CamNB2", "CamNB2", "CamNB2", "CamNB2", "CamNB2", …
## $ source_file        &lt;chr&gt; "/Users/runner/runners/2.169.1/work/_temp/Library/…
## $ file_name          &lt;chr&gt; "NBR172014-04_0013.jpg", "NBR172014-04_0007.jpg", …
## $ date_time_original &lt;chr&gt; "2013:10:09 17:55:13", "2013:10:01 22:00:54", "201…
## $ file_size          &lt;chr&gt; "533135", "277693", "474973", "351488", "461175", …
## $ process_image      &lt;chr&gt; "TRUE", "TRUE", "TRUE", "TRUE", "TRUE", "TRUE", "T…</code></pre>
<p>To start, diagnose why there are different numbers of columns. Data exploration functions like head() and tibble::glimpse() can be very useful for this. Use these to see what columns each of your data frames share, and which ones they don’t. To merge them together easily, you want to make sure that both data frames have exactly the same columns.</p>
<p>So, from head() and glimpse() we know that are data frame has 16 columns. But what if we want to merge it with one that has 15 columns, and we’ve identified that the data frame we want to merge with does not have a “comments” column? We can deal with this very easily using dplyr::select().</p>
<div class="sourceCode" id="cb35"><html><body><pre class="r"><span class="no">test_raw2</span> <span class="kw">&lt;-</span> <span class="no">test_raw</span> <span class="kw">%&gt;%</span>
  <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(!<span class="no">comments</span>) <span class="co"># by writing "!comments", we are actually selecting all columns except for comments</span>

<span class="no">test_raw2</span></pre></body></html></div>
<pre><code>## # A tibble: 30 x 15
##    trip  site  treatment camera_no species_1 no_of_species_1 species_2
##    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;           &lt;chr&gt;    
##  1 Apr.… Norr… Fox and … R17       cat       1               &lt;NA&gt;     
##  2 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
##  3 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
##  4 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
##  5 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
##  6 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
##  7 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
##  8 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
##  9 Apr.… Norr… Fox and … R17       &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt;     
## 10 Apr.… Norr… Fox and … R17       cat       1               &lt;NA&gt;     
## # … with 20 more rows, and 8 more variables: no_of_species_2 &lt;chr&gt;,
## #   moon_phase_number &lt;chr&gt;, site_code &lt;chr&gt;, source_file &lt;chr&gt;,
## #   file_name &lt;chr&gt;, date_time_original &lt;chr&gt;, file_size &lt;chr&gt;,
## #   process_image &lt;chr&gt;</code></pre>
<p>You can now see that we have removed the comments column. Now to merge this data frame with that hypothetical comments-less data frame, you can use dplyr::bind_rows()</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Vijay Raghunath, Henry Lydecker, Darya Vanichkina.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
